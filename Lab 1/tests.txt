# Создаем пользователей с указанием даты рождения, места жительства и номера телефона
mat = User("Mat", datetime(1990, 1, 1), "Город X", "+123456789")
user1 = User("User1", datetime(1985, 5, 15), "Город Y", "+987654321")
user2 = User("User2", datetime(1995, 10, 20), "Город Z")

# Создаем группу с создателем и указываем минимальный возраст для вступления
group1 = Group("Group1", mat, min_age_to_join=25)
print("\n=== Создана группа ===\n")

# Обычные пользователи добавляются в группу
group1.add_member(user1)
group1.add_member(user2)
print("\n=== Пользователи добавлены в группу ===\n")

# Пользователи отправляют сообщения в группу
group1.send_message(mat, "Привет, группа!")
group1.send_message(user2, "Привет, User2!")
print("\n=== Пользователи отправили сообщения в группу ===\n")

# Создаем админа
group1.promote_to_admin(mat, user1)
print("\n=== Создан админ ===\n")

# Пользователь админ пытается удалить админа (неудачно)
group1.remove_member(user1, mat)
print("\n=== Пользователь админ пытается удалить админа (неудачно) ===\n")

# Пользователь админ пытается повысить пользователя до админа (неудачно)
group1.promote_to_admin(user1, user2)
print("\n=== Пользователь админ пытается повысить пользователя до админа (неудачно) ===\n")

# Пользователь создатель группы понижает админа до обычного пользователя
group1.demote_to_member(mat, user1)
print("\n=== Создатель группы понижает админа до обычного пользователя ===\n")

# Выводим информацию о группе после всех изменений
group1.show_info()
print("\n=== Выведена информация о группе после всех изменений ===\n")

# Пользователи добавляют друг друга в контакты и изменяют описание
mat.add_contact(user1)
mat.set_description(new_location="Новый город", new_phone_number="+987654321")
user1.add_contact(mat)
user1.set_description(new_location="Новый город")
user2.add_contact(mat)
user2.set_description(new_phone_number="+123456789")
print("\n=== Пользователи добавляют друг друга в контакты и изменяют описание ===\n")

# Пользователи вызывают друг друга
mat.contacts.call(mat, user1)
mat.contacts.call(user2, mat)
print("\n=== Пользователи вызывают друг друга ===\n")
